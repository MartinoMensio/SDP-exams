# Theory part 18/09/2014

## Point 1

### Question

(3.0 marks) Explain the main features of asynchronous I/O (in WIN 32) based on extended I/O with completion routines: ReadFileEx, WriteFileEx.  
Why and how this is different from asynchronous I/O based on the overlapped structures?  
Given a binary file containing a sequence of integer numbers, is it possible to write a main program that, using asynchronous I/O, just searches a given number in the file? If yes, can it be done with both overlapped I/O and with completion routines? Why/How? *(source code is not required)*

### Solution

TODO

## Point 2

### Question

 (3 0 marks) Explain the roles of conditional variables and mutexes as thread synchronization primitives in WIN32 systems. Outline the main differences between them. Provide an example of usage *(Pseudo-code is allowed)*.  
 Is it possible to use them to synchronise two processes? *(motivate the answer)*

### Solution

TODO

## Point 3

### Question

 (3.0 marks) Explain the behaviour of `CreateFileMapping`, `OpenFileMapping`, and `MapViewOfFile` in WIN 32. What does the `HANDLE` returned by `CreateFileMapping`? Does `MapViewOfFile` return a pointer or a `HANDLE`?

Given program fragment written below, explain its behaviour, assuming that function `SortIntegerArray` implements a sorting algorithm.  
What is done at each iteration?  
Complete the two instructions assigning values to high and low (assuming that their values need to be properly generate from offset).  
What are `hmap` and `pView`?

```c
...
HANDLE hmap = CreateFileMapping(hfile,...);
if (hmap != NULL) {
    for (offset = 0; offset < cbFile; offset -= cbView){
        ...
        high = ...
        low = ...
        int *pView = MapViewOfFile(hmap, FILE_MAP_READ, high, low, cbView);
        if (pView != NULL) {
            SortIntegerArray(pView, cbView/(sizeof (int)));
        }
    }
}
CloseHandle(hmap);
```

### Solution

TODO
