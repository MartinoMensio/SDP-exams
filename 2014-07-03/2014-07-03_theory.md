# Theory part 03/07/2014

## Point 1

### Question

(3.0 marks) What is a relative pathname? What is an absolute pathname? Why is it important for the kernel to know the current directory of the running process? What is the content of an inode? Why not keeping the inode information in the directory?

### Solution

TODO

## Point 2

### Question

(3.0 marks) Which is the Unix command for copying an entire disk to another file? Give one or more examples. Explain which is the syntax, the options, and the function offered by the system call `losetup`. Give examples. Which is the difference between a raw and a block device?

### Solution

TODO

## Point 3

### Question

(3.0 marks) Given this reference string: `1233343251154323345241345`, compute the number of page faults and the mean resident set for the Page Fault Frequency strategy with control parameter `C=2`.

### Solution

TODO

## Point 4

### Question

(3.0 marks) Which are the roles of file pointers and of the overlapped structures in direct file access on WIN32 systems. Briefly describe common aspects and differences. The prototype of function `ReadFile` is:

```c
BOOL ReadFile (HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead,
    LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped)
```

how can we handle pointers to large files? What is a `LARGE_INTEGER` type in Win32? How can we increment a `LARGE_INTEGER` variable by 1? Given a file of size 6 GB, containing records of fixed size 128 Bytes, how can we read record n. `2^15` (records are numbered starting from 0)?  
Provide the solution with file pointers and with overlapped structure.

### Solution

TODO

## Point 5

### Question

(3.0 marks) Explain the main differences between user and kernel mode drivers in WindowsCE and Windows Embedded 7. Given figure represented below, briefly describe the role of the user mode driver, of device manager and of the reflector service. What is `udevice.exe`? Is the user mode driver linked within the kernel (dynamically or statically)? When you write a used application, do you need to differentiate IO calls serviced by user mode drivers from those served by kernel mode drivers?

![2014-07-03_theory_usermodearchitecture.png](2014-07-03_theory_usermodearchitecture.png "User mode driver architecture")

### Solution

TODO
